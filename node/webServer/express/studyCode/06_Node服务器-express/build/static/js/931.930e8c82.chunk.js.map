{"version":3,"file":"static/js/931.930e8c82.chunk.js","mappings":"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","sources":["assets/svg/icon-arrow-left.jsx","assets/svg/icon-arrow-right.jsx","components/room-item/style.js","components/room-item/index.jsx","services/modules/entire.js","store/modules/entire/actionCreators.js","views/entire/c-cpns/entire-filter/style.js","views/entire/c-cpns/entire-filter/index.jsx","views/entire/c-cpns/entire-pagination/style.js","views/entire/c-cpns/entire-pagination/index.jsx","views/entire/c-cpns/entire-rooms/style.js","views/entire/c-cpns/entire-rooms/index.jsx","views/entire/style.js","views/entire/index.jsx"],"sourcesContent":["import React, { memo } from 'react'\nimport styleStrToObj from './utils'\n\nconst IconArrowLeft = memo((props) => {\n  const { width = 12, height = 12 } = props\n\n  return (\n    <svg viewBox=\"0 0 18 18\" role=\"img\" aria-hidden=\"false\" aria-label=\"previous\" focusable=\"false\" style={styleStrToObj(`height: ${height}px; width: ${width}px; display: block; fill: currentcolor;`)}><path d=\"m13.7 16.29a1 1 0 1 1 -1.42 1.41l-8-8a1 1 0 0 1 0-1.41l8-8a1 1 0 1 1 1.42 1.41l-7.29 7.29z\" fillRule=\"evenodd\"></path></svg>\n  )\n})\n\nexport default IconArrowLeft","import React, { memo } from 'react'\nimport styleStrToObj from './utils'\n\nconst IconArrowRight = memo((props) => {\n  const { width = 12, height = 12 } = props\n\n  return (\n    <svg viewBox=\"0 0 18 18\" role=\"img\" aria-hidden=\"false\" aria-label=\"next\" focusable=\"false\" style={styleStrToObj(`height: ${height}px; width: ${width}px; display: block; fill: currentcolor;`)}><path d=\"m4.29 1.71a1 1 0 1 1 1.42-1.41l8 8a1 1 0 0 1 0 1.41l-8 8a1 1 0 1 1 -1.42-1.41l7.29-7.29z\" fillRule=\"evenodd\"></path></svg>\n  )\n})\n\nexport default IconArrowRight","import styled from \"styled-components\";\r\n\r\n\r\nexport const ItemWrapper = styled.div`\r\n  flex-shrink: 0;\r\n  box-sizing: border-box;\r\n  width: ${props => props.itemWidth};\r\n  padding: 8px;\r\n\r\n  .inner {\r\n    width: 100%;\r\n  }\r\n\r\n  .cover {\r\n    position: relative;\r\n    box-sizing: border-box;\r\n    padding: 66.66% 8px 0;\r\n    border-radius: 3px;\r\n    overflow: hidden;\r\n\r\n    img {\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: cover;\r\n    }\r\n  }\r\n\r\n  .slider {\r\n    position: relative;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      .control {\r\n        display: flex;\r\n      }\r\n    }\r\n\r\n    .control {\r\n      position: absolute;\r\n      z-index: 1;\r\n      left: 0;\r\n      right: 0;\r\n      top: 0;\r\n      display: none;\r\n      justify-content: space-between;\r\n      bottom: 0;\r\n      color: #fff;\r\n\r\n      .btn {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 83px;\r\n        height: 100%;\r\n        background: linear-gradient(to left, transparent 0%, rgba(0, 0, 0, 0.25) 100%);\r\n\r\n        &.right {\r\n          background: linear-gradient(to right, transparent 0%, rgba(0, 0, 0, 0.25) 100%);\r\n        }\r\n      }\r\n    }\r\n\r\n    .indicator {\r\n      position: absolute;\r\n      z-index: 9;\r\n      bottom: 10px;\r\n      left: 0;\r\n      right: 0;\r\n      width: 30%;\r\n      margin: 0 auto;\r\n\r\n      .item {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 14.29%;\r\n\r\n        .dot {\r\n          width: 6px;\r\n          height: 6px;\r\n          background-color: #fff;\r\n          border-radius: 50%;\r\n\r\n          &.active {\r\n            width: 8px;\r\n            height: 8px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .desc {\r\n    margin: 10px 0 5px;\r\n    font-size: 12px;\r\n    font-weight: 700;\r\n    color: ${props => props.verifyColor};\r\n  }\r\n\r\n  .name {\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n\r\n    overflow: hidden;  \r\n    text-overflow: ellipsis; \r\n    display: -webkit-box; \r\n    -webkit-line-clamp: 2; \r\n    -webkit-box-orient: vertical;\r\n  }\r\n\r\n  .price {\r\n    margin: 8px 0;\r\n  }\r\n\r\n  .bottom {\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: 12px;\r\n    font-weight: 600;\r\n    color: ${props => props.theme.text.primaryColor};\r\n\r\n    .count {\r\n      margin: 0 2px 0 4px;\r\n    }\r\n\r\n    .MuiRating-decimal {\r\n      margin-right: -2px;\r\n    }\r\n  }\r\n`","import PropTypes from 'prop-types'\r\nimport React, { memo, useRef, useState } from 'react'\r\nimport { Carousel } from 'antd';\r\nimport { Rating } from '@mui/material'\r\n\r\nimport { ItemWrapper } from './style'\r\nimport IconArrowLeft from '@/assets/svg/icon-arrow-left';\r\nimport IconArrowRight from '@/assets/svg/icon-arrow-right';\r\nimport Indicator from '@/base-ui/indicator';\r\nimport classNames from 'classnames';\r\n\r\nconst RoomItem = memo((props) => {\r\n  const { itemData, itemWidth = \"25%\", itemClick } = props\r\n  const [selectIndex, setSelectIndex] = useState(0)\r\n  const sliderRef = useRef()\r\n\r\n  /** 事件处理的逻辑 */\r\n  function controlClickHandle(isNext = true, event) {\r\n    // 上一个面板/下一个面板\r\n    isNext ? sliderRef.current.next(): sliderRef.current.prev()\r\n\r\n    // 最新的索引\r\n    let newIndex = isNext ? selectIndex + 1: selectIndex - 1\r\n    const length = itemData.picture_urls.length\r\n    if (newIndex < 0) newIndex = length - 1\r\n    if (newIndex > length - 1) newIndex = 0\r\n    setSelectIndex(newIndex)\r\n\r\n    // 阻止事件冒泡\r\n    event.stopPropagation()\r\n  }\r\n\r\n  function itemClickHandle() {\r\n    if (itemClick) itemClick(itemData)\r\n  }\r\n\r\n  /** 子元素的赋值 */\r\n  const pictureElement = (\r\n    <div className='cover'>\r\n      <img src={itemData.picture_url} alt=\"\" />\r\n    </div>\r\n  )\r\n\r\n  const sliderElement = (\r\n    <div className='slider'>\r\n      <div className='control'>\r\n        <div className='btn left' onClick={e => controlClickHandle(false, e)}>\r\n          <IconArrowLeft width=\"30\" height=\"30\"/>\r\n        </div>\r\n        <div className='btn right' onClick={e => controlClickHandle(true, e)}>\r\n          <IconArrowRight width=\"30\" height=\"30\"/>\r\n        </div>\r\n      </div>\r\n      <div className='indicator'>\r\n        <Indicator selectIndex={selectIndex}>\r\n          {\r\n            itemData?.picture_urls?.map((item, index) => {\r\n              return (\r\n                <div className=\"item\" key={item}>\r\n                  <span className={classNames(\"dot\", { active: selectIndex === index })}></span>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </Indicator>\r\n      </div>\r\n      <Carousel dots={false} ref={sliderRef}>\r\n        {\r\n          itemData?.picture_urls?.map(item => {\r\n            return (\r\n              <div className='cover' key={item}>\r\n                <img src={item} alt=\"\" />\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n      </Carousel>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <ItemWrapper \r\n      verifyColor={itemData?.verify_info?.text_color || \"#39576a\"}\r\n      itemWidth={itemWidth}\r\n      onClick={itemClickHandle}\r\n    >\r\n      <div className='inner'>\r\n        { !itemData.picture_urls ? pictureElement: sliderElement }\r\n        <div className='desc'>\r\n          {itemData.verify_info.messages.join(\" · \")}\r\n        </div>\r\n        <div className='name'>{itemData.name}</div>\r\n        <div className='price'>¥{itemData.price}/晚</div>\r\n\r\n        <div className='bottom'>\r\n          <Rating \r\n            value={itemData.star_rating ?? 5}\r\n            precision={0.1}\r\n            readOnly \r\n            sx={{ fontSize: \"12px\", color: \"#00848A\", marginRight: \"-1px\" }}\r\n          />\r\n          <span className='count'>{itemData.reviews_count}</span>\r\n          {\r\n            itemData.bottom_info && <span className='extra'>·{itemData.bottom_info?.content}</span>\r\n          }\r\n        </div>\r\n      </div>\r\n    </ItemWrapper>\r\n  )\r\n})\r\n\r\nRoomItem.propTypes = {\r\n  itemData: PropTypes.object\r\n}\r\n\r\nexport default RoomItem","import hyRequest from \"..\";\r\n\r\nexport function getEntireRoomList(offset = 0, size = 20) {\r\n  return hyRequest.get({\r\n    url: \"entire/list\",\r\n    params: {\r\n      offset,\r\n      size\r\n    }\r\n  })\r\n}\r\n","import { getEntireRoomList } from \"@/services/modules/entire\"\r\nimport * as actionTypes from \"./constants\"\r\n\r\nexport const changeCurrentPageAction = (currentPage) => ({\r\n  type: actionTypes.CHANGE_CURRENT_PAGE,\r\n  currentPage\r\n})\r\n\r\nexport const changeRoomListAction = (roomList) => ({\r\n  type: actionTypes.CHANGE_ROOM_LIST,\r\n  roomList\r\n})\r\n\r\nexport const changeTotalCountAction = (totalCount) => ({\r\n  type: actionTypes.CHANGE_TOTAL_COUNT,\r\n  totalCount\r\n})\r\n\r\n\r\nexport const changeIsLoadingAction = (isLoading) => ({\r\n  type: actionTypes.CHANGE_IS_LOADING,\r\n  isLoading\r\n})\r\n\r\n\r\nexport const fetchRoomListAction = (page = 0) => {\r\n  // 新的函数\r\n  return async (dispatch, getState) => {\r\n    // 0.修改currentPage\r\n    dispatch(changeCurrentPageAction(page))\r\n\r\n    // 1.根据页码获取最新的数据\r\n    // const currentPage = getState().entire.currentPage\r\n    dispatch(changeIsLoadingAction(true))\r\n    const res = await getEntireRoomList(page * 20)\r\n    dispatch(changeIsLoadingAction(false))\r\n\r\n    // 2.获取到最新的数据, 保存redux的store中\r\n    const roomList = res.list\r\n    const totalCount = res.totalCount\r\n    dispatch(changeRoomListAction(roomList))\r\n    dispatch(changeTotalCountAction(totalCount))\r\n  }\r\n}\r\n\r\n","import styled from \"styled-components\";\r\n\r\n\r\nexport const FilterWrapper = styled.div`\r\n  position: fixed;\r\n  z-index: 9;\r\n  top: 80px;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  height: 48px;\r\n  padding-left: 16px;\r\n  border-bottom: 1px solid #f2f2f2;\r\n  background-color: #fff;\r\n\r\n  .filter {\r\n    display: flex;\r\n\r\n    .item {\r\n      margin: 0 4px 0 8px;\r\n      padding: 6px 12px;\r\n      border: 1px solid #dce0e0;\r\n      border-radius: 4px;\r\n      color: #484848;\r\n      cursor: pointer;\r\n\r\n      &.active {\r\n        background: #008489;\r\n        border: 1px solid #008489;\r\n        color: #ffffff;\r\n      }\r\n    }\r\n  }\r\n`","import React, { memo, useState } from 'react'\r\nimport { FilterWrapper } from './style'\r\nimport filterData from \"@/assets/data/filter_data.json\"\r\nimport classNames from 'classnames'\r\n\r\nconst EntireFilter = memo(() => {\r\n  const [selectItems, setSelectItems] = useState([])\r\n\r\n  function itemClickHandle(item) {\r\n    const newItems = [...selectItems]\r\n    if (newItems.includes(item)) { // 移除操作\r\n      const itemIndex = newItems.findIndex(filterItem => filterItem === item)\r\n      newItems.splice(itemIndex, 1)\r\n    } else { // 添加操作\r\n      newItems.push(item)\r\n    }\r\n    setSelectItems(newItems)\r\n  }\r\n\r\n  return (\r\n    <FilterWrapper>\r\n      <div className=\"filter\">\r\n        {\r\n          filterData.map((item) => {\r\n            return (\r\n              <div \r\n                className={classNames(\"item\", { active: selectItems.includes(item) })} \r\n                key={item}\r\n                onClick={e => itemClickHandle(item)}\r\n              >\r\n                {item}\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </FilterWrapper>\r\n  )\r\n})\r\n\r\nexport default EntireFilter","import styled from \"styled-components\";\r\n\r\n\r\nexport const PaginationWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  .info {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    .MuiPaginationItem-icon {\r\n      font-size: 24px;\r\n    }\r\n\r\n    .MuiPaginationItem-page {\r\n      margin: 0 9px;\r\n\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n\r\n    .MuiPaginationItem-page.Mui-selected {\r\n      background-color: #222;\r\n      color: #fff;\r\n    }\r\n\r\n    .desc {\r\n      margin-top: 16px;\r\n      color: #222;\r\n    }\r\n  }\r\n`","import React, { memo } from 'react'\r\nimport Pagination from '@mui/material/Pagination';\r\n\r\nimport { PaginationWrapper } from './style'\r\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\r\nimport { fetchRoomListAction } from '@/store/modules/entire/actionCreators';\r\n\r\nconst EntirePagination = memo(() => {\r\n  const { totalCount, currentPage, roomList } = useSelector((state) => ({\r\n    totalCount: state.entire.totalCount,\r\n    currentPage: state.entire.currentPage,\r\n    roomList: state.entire.roomList\r\n  }), shallowEqual)\r\n\r\n  // 小算法:必须掌握\r\n  const totalPage = Math.ceil(totalCount / 20)\r\n  const startCount = currentPage * 20 + 1\r\n  const endCount = (currentPage + 1) * 20\r\n\r\n  /** 事件处理的逻辑 */\r\n  const dispatch = useDispatch()\r\n  function pageChangeHandle(event, pageCount) {\r\n    // 回到顶部\r\n    window.scrollTo(0, 0)\r\n    // 更新最新的页码: redux => currentPage\r\n    // dispatch(changeCurrentPageAction(pageCount - 1))\r\n    dispatch(fetchRoomListAction(pageCount - 1))\r\n  }\r\n\r\n  return (\r\n    <PaginationWrapper>\r\n      {\r\n        !!roomList.length && (\r\n          <div className='info'>\r\n            <Pagination count={totalPage} onChange={pageChangeHandle}/>\r\n            <div className='desc'>\r\n              第 {startCount} - {endCount} 个房源, 共超过 {totalCount} 个\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    </PaginationWrapper>\r\n  )\r\n})\r\n\r\nexport default EntirePagination","import styled from \"styled-components\";\r\n\r\n\r\nexport const RoomsWrapper = styled.div`\r\n  position: relative;\r\n  padding: 30px 20px;\r\n  margin-top: 128px;\r\n\r\n  .title {\r\n    font-size: 22px;\r\n    font-weight: 700;\r\n    color: #222;\r\n    margin: 0 0 10px 10px;\r\n  }\r\n\r\n  .list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n  }\r\n\r\n  > .cover {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    background-color: rgba(255,255,255,.8);\r\n  }\r\n`\r\n","import RoomItem from '@/components/room-item'\r\nimport { changeDetailInfoAction } from '@/store/modules/detail'\r\nimport React, { memo, useCallback } from 'react'\r\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { RoomsWrapper } from './style'\r\n\r\nconst EntireRooms = memo(() => {\r\n  /** 从redux中获取roomList数据 */\r\n  const { roomList, totalCount, isLoading } = useSelector((state) => ({\r\n    roomList: state.entire.roomList,\r\n    totalCount: state.entire.totalCount,\r\n    isLoading: state.entire.isLoading\r\n  }), shallowEqual)\r\n\r\n  /** 事件处理 */\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n  const itemClickHandle = useCallback((item) => {\r\n    dispatch(changeDetailInfoAction(item))\r\n    navigate(\"/detail\")\r\n  }, [navigate, dispatch])\r\n\r\n  return (\r\n    <RoomsWrapper>\r\n      <h2 className='title'>{totalCount}多处住所</h2>\r\n      <div className='list'>\r\n        {\r\n          roomList.map((item) => {\r\n            return (\r\n              <RoomItem \r\n                itemData={item} \r\n                itemWidth=\"20%\" \r\n                key={item._id}\r\n                itemClick={itemClickHandle}\r\n              />\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n\r\n      { isLoading && <div className='cover'></div> }\r\n    </RoomsWrapper>\r\n  )\r\n})\r\n\r\nexport default EntireRooms","import styled from \"styled-components\";\r\n\r\nexport const EntireWrapper = styled.div`\r\n\r\n`","import { fetchRoomListAction } from '@/store/modules/entire/actionCreators'\r\nimport { changeHeaderConfigAction } from '@/store/modules/main'\r\nimport React, { memo, useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport EntireFilter from './c-cpns/entire-filter'\r\nimport EntirePagination from './c-cpns/entire-pagination'\r\nimport EntireRooms from './c-cpns/entire-rooms'\r\nimport { EntireWrapper } from './style'\r\n\r\nconst Entire = memo(() => {\r\n  // 发送网络请求, 获取数据, 并且保存当前的页面等等.....\r\n  const dispatch = useDispatch()\r\n  useEffect(() => {\r\n    dispatch(fetchRoomListAction())\r\n    dispatch(changeHeaderConfigAction({ isFixed: true, topAlpha: false }))\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <EntireWrapper>\r\n      <EntireFilter/>\r\n      <EntireRooms/>\r\n      <EntirePagination/>\r\n    </EntireWrapper>\r\n  )\r\n})\r\n\r\nexport default Entire\r\n"],"names":["IconArrowLeft","memo","props","width","height","viewBox","role","focusable","style","styleStrToObj","d","fillRule","IconArrowRight","ItemWrapper","styled","itemWidth","verifyColor","theme","text","primaryColor","RoomItem","itemData","itemClick","useState","selectIndex","setSelectIndex","sliderRef","useRef","controlClickHandle","isNext","event","current","next","prev","newIndex","length","picture_urls","stopPropagation","pictureElement","className","src","picture_url","alt","sliderElement","onClick","e","map","item","index","classNames","active","dots","ref","verify_info","text_color","messages","join","name","price","Rating","value","star_rating","precision","readOnly","sx","fontSize","color","marginRight","reviews_count","bottom_info","content","getEntireRoomList","offset","size","hyRequest","url","params","changeCurrentPageAction","currentPage","type","actionTypes","changeRoomListAction","roomList","changeTotalCountAction","totalCount","changeIsLoadingAction","isLoading","fetchRoomListAction","page","dispatch","getState","res","list","FilterWrapper","selectItems","setSelectItems","filterData","includes","newItems","itemIndex","findIndex","filterItem","splice","push","itemClickHandle","PaginationWrapper","useSelector","state","entire","shallowEqual","totalPage","Math","ceil","startCount","endCount","useDispatch","Pagination","count","onChange","pageCount","window","scrollTo","RoomsWrapper","navigate","useNavigate","useCallback","changeDetailInfoAction","_id","EntireWrapper","useEffect","changeHeaderConfigAction","isFixed","topAlpha"],"sourceRoot":""}